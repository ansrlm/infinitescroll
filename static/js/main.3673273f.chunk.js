/*! For license information please see main.3673273f.chunk.js.LICENSE.txt */
(this["webpackJsonp@ansrlm/infinitescroll-example"]=this["webpackJsonp@ansrlm/infinitescroll-example"]||[]).push([[0],[,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e||"undefined"!==typeof self&&self;function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function i(e){return"undefined"===typeof e}var s=function(){function e(){this.options={},this._eventHandler={}}var t=e.prototype;return t.trigger=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._eventHandler[e]||[],i=o.length>0;if(!i)return!0;var s=n[0]||{},a=n.slice(1);o=o.concat();var c=!1;s.eventType=e,s.stop=function(){c=!0},s.currentTarget=this;var l=[s];return a.length>=1&&(l=l.concat(a)),o.forEach((function(e){e.apply(t,l)})),!c},t.once=function(e,t){var n=this;if("object"===typeof e&&i(t)){var r=e;for(var o in r)this.once(o,r[o]);return this}if("string"===typeof e&&"function"===typeof t){this.on(e,(function r(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];t.apply(n,o),n.off(e,r)}))}return this},t.hasOn=function(e){return!!this._eventHandler[e]},t.on=function(e,t){if("object"===typeof e&&i(t)){var n=e;for(var r in n)this.on(r,n[r]);return this}if("string"===typeof e&&"function"===typeof t){var o=this._eventHandler[e];i(o)&&(this._eventHandler[e]=[],o=this._eventHandler[e]),o.push(t)}return this},t.off=function(e,t){var n,r;if(i(e))return this._eventHandler={},this;if(i(t)){if("string"===typeof e)return delete this._eventHandler[e],this;var o=e;for(var s in o)this.off(s,o[s]);return this}var a=this._eventHandler[e];if(a){var c=0;try{for(var l=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),u=l.next();!u.done;u=l.next()){if(u.value===t){a.splice(c,1);break}c++}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}return this},e.VERSION="2.2.2",e}(),a=o(Object.freeze({__proto__:null,default:s})),c=r(function(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&n.path)}},n.exports),n.exports}((function(e,t){var n;n=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r};e.exports=i.default},function(e,t,n){t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(2),a=(r=s)&&r.__esModule?r:{default:r},c=n(3);"function"!==typeof Object.create&&(Object.create=function(e,t){if("object"!==("undefined"===typeof e?"undefined":i(e))&&"function"!==typeof e)throw new TypeError("Object prototype may only be an Object: "+e);if(null===e)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");function n(){}return n.prototype=e,new n});var l=!!window.IntersectionObserver,u=function(){var e=document.createElement("div");if(!e.getElementsByClassName)return!1;var t=e.getElementsByClassName("dummy");return e.innerHTML="<span class='dummy'></span>",1===t.length}(),f=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return i.options={targetClass:"check_visible",expandSize:0},o(i.options,r),i._wrapper=(0,c.$)(n)||document,i._wrapper.nodeType&&1===i._wrapper.nodeType?i._getAreaRect=i._getWrapperRect:i._getAreaRect=c.getWindowRect,i._targets=[],i._timer=null,i.refresh(),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.refresh=function(){return u?(this._targets=this._wrapper.getElementsByClassName(this.options.targetClass),this.refresh=function(){return this._refreshObserver(),this}):this.refresh=function(){var e=this._wrapper.querySelectorAll("."+this.options.targetClass);this._targets=[];for(var t=0;t<e.length;t++)this._targets.push(e[t]);return this._refreshObserver(),this},this.refresh()},t.prototype.check=function(){var e=this,t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1];return"number"!==typeof t&&(n=t,t=-1),"undefined"===typeof t&&(t=-1),"undefined"===typeof n&&(n=!1),clearTimeout(this._timer),t<0?(this._check(n),this._checkAfter()):this._timer=setTimeout((function(){e._check(n),e._checkAfter(),e._timer=null}),t),this},t.prototype.getVisibleElements=function(){for(var e=this._targets,t=[],n=0;n<e.length;n++){var r=e[n];r&&!0===r.__VISIBLE__&&t.push(r)}return t},t.prototype._getWrapperRect=function(){return this._wrapper.getBoundingClientRect()},t.prototype._reviseElements=function(){var e=this;return this._reviseElements=u?function(){return!0}:function(t,n){return!!(0,c.hasClass)(t,e.options.targetClass)||(t.__VISIBLE__=null,e._targets.splice(n,1),!1)},this._reviseElements.apply(this,arguments)},t.prototype._check=function(e){var t=parseInt(this.options.expandSize,10),n=void 0,r=void 0,o=void 0,i=void 0,s=this._getAreaRect(),a=s.top-t,c=s.left-t,l=s.bottom+t,u=s.right+t;for(n=this._targets.length-1;r=this._targets[n];n--)0===(o=r.getBoundingClientRect()).width&&0===o.height||this._reviseElements(r,n)&&(i=e?!(o.top<a||o.bottom>l||o.right>u||o.left<c):!(o.bottom<a||l<o.top||o.right<c||u<o.left),r.__AFTER__=i)},t.prototype.checkObserve=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return this._timer&&(clearTimeout(this._timer),this._timer=0),t<0?this._checkAfter():this._timer=setTimeout((function(){e._checkAfter(),e._timer=null}),t),this},t.prototype._checkAfter=function(){for(var e=this._targets,t=e.length,n=[],r=[],o=0;o<t;++o){var i=e[o],s=i.__VISIBLE__,a=i.__AFTER__;s!==a&&(a?n.push(i):r.push(i),i.__VISIBLE__=a)}0===n.length&&0===r.length||this.trigger("change",{visible:n,invisible:r,isTrusted:!0})},t.prototype.observe=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!l)return this._addObserveEvent(t),this;var n="undefined"===typeof t.delay?-1:t.delay,r=!!t.containment;this._observeCallback=function(t){t.forEach((function(e){e.target.__AFTER__=r?e.intersectionRatio>=1:e.isIntersecting})),e._checkAfter(n)},this._observer&&this.unobserve(),this._observer=new IntersectionObserver(this._observeCallback,{root:1===this._wrapper.nodeType?this._wrapper:null,rootMargin:this.options.expandSize+"px",threshold:r?[0,1]:[0]});for(var o=this._observer,i=this._targets,s=i.length,a=0;a<s;++a)o.observe(i[a]);return this},t.prototype.unobserve=function(){return this._observeCallback?(l?this._observer&&this._observer.disconnect():((0,c.removeEvent)(this._wrapper,"scroll",this._observeCallback),(0,c.removeEvent)(this._wrapper,"resize",this._observeCallback)),this._observer=null,this._observeCallback=null,this):this},t.prototype._refreshObserver=function(){if(this._observer){this._observer.disconnect();for(var e=this._targets,t=e.length,n=0;n<t;++n)this._observer.observe(e[n])}},t.prototype._addObserveEvent=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._observeCallback){var n="undefined"===typeof t.delay?-1:t.delay,r=!!t.containment;this._observeCallback=function(t){e._check(r),e.checkObserve(n)},(0,c.addEvent)(this._wrapper,"scroll",this._observeCallback),(0,c.addEvent)(this._wrapper,"resize",this._observeCallback),this._observeCallback()}},t.prototype.destroy=function(){this.off(),this.unobserve(),this._targets=[],this._wrapper=null,this._timer=null},t}(a.default);f.VERSION="2.2.0",t.default=f,e.exports=t.default},function(t,n){t.exports=e},function(e,t,n){t.__esModule=!0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.toArray=s,t.$=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=void 0;if(void 0!==t){if("string"===typeof t){var o=t.match(/^<([a-z]+)\s*([^>]*)>/);if(o){var i=document.createElement("div");i.innerHTML=t,r=s(i.childNodes)}else r=s(document.querySelectorAll(t));n||(r=r.length>=1?r[0]:void 0)}else t===window?r=t:!t.nodeName||1!==t.nodeType&&9!==t.nodeType?"jQuery"in window&&t instanceof jQuery||t.constructor.prototype.jquery?r=n?t.toArray():t.get(0):Array.isArray(t)&&(r=t.map((function(t){return e(t)})),n||(r=r.length>=1?r[0]:void 0)):r=t;return r}},t.getWindowRect=function(){return{top:0,left:0,bottom:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,right:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}},t.hasClass=function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},t.addEvent=function(e,t,n,s){if(o){var a=s||!1;"object"===("undefined"===typeof s?"undefined":r(s))&&(a=!!i&&s),e.addEventListener(t,n,a)}else e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null};var o=!!("addEventListener"in document),i=function(){var e=!1;try{o&&Object.defineProperty&&document.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){e=!0}}))}catch(t){}return e}();function s(e){var t=[];if(e)for(var n=0,r=e.length;n<r;n++)t.push(e[n]);return t}}])},e.exports=n(a)}))),l=function(e){var t=this;this.mount=function(){t.$visible=new c(t.props.endChecker.container,{targetClass:t.props.endChecker.targetClass,expandSize:t.props.options.expandSize}),t.$visible.on("change",t.handleChange),t.$visible.observe()},this.handleChange=function(e){t.fetchData&&e.visible.length&&t.fetchData().then((function(e){if("append"===t.props.options.type)t.props.listContainer.innerHTML+=e.data;else{if("render"!==t.props.options.type)throw new Error("there is no infinite scroll type");t.props.scrollContainer?t.props.scrollContainer.scrollTo(t.props.scrollContainer.scrollLeft,0):window.scrollTo(window.scrollX,0),t.props.listContainer.innerHTML=e.data}e.fetchData?t.props.options.withBlinkAnimation&&(t.$loadingBar&&(t.$loadingBar.style.display="none"),setTimeout((function(){t.$loadingBar&&(t.$loadingBar.style.display="block")}),20)):t.$loadingBar&&(t.$loadingBar.style.display="none"),t.fetchData=e.fetchData,t.callbackFetchData&&(t.callbackFetchData=t.callbackFetchData().callbackFetchData)})).catch((function(e){console.error(e),t.$loadingBar&&(t.$loadingBar.style.display="none")}))},this.unmount=function(){var e,n;null===(e=t.$visible)||void 0===e||e.unobserve(),null===(n=t.$visible)||void 0===n||n.off("change"),t.$visible=null},this.props=e,this.fetchData=this.props.fetchData,this.callbackFetchData=this.props.callbackFetchData,this.$loadingBar=this.props.endChecker.container.querySelector("."+this.props.endChecker.targetClass)}}).call(this,n(8))},function(e,t,n){e.exports=n(5)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(2),s=n(1),a=n.n(s),c=n(3),l=new a.a(".wrap",{targetClass:"card",expandSize:0});l.on("change",(function(e){e.visible.forEach((function(e){return e.classList.add("focus")})),e.invisible.forEach((function(e){return e.classList.remove("focus")}))})),l.observe({delay:100,containment:!1});var u=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.unobserve(),l.off(),l=null,e.abrupt("return",{data:'<div class="card item"></div><div class="card item"></div><div class="card item"></div><div class="card item"></div><div class="card item"></div><div class="card item"></div><div class="card item"></div><div class="card item"></div><div class="card item"></div><div class="card item"></div>',fetchData:u});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();new c.a({scrollContainer:document.querySelector(".scroll"),listContainer:document.querySelector(".list"),endChecker:{container:document.querySelector(".wrap"),targetClass:"loading_bar"},fetchData:u,callbackFetchData:function e(){return(l=new a.a(".wrap",{targetClass:"card",expandSize:0})).on("change",(function(e){e.visible.forEach((function(e){return e.classList.add("focus")})),e.invisible.forEach((function(e){return e.classList.remove("focus")}))})),l.observe({delay:100,containment:!1}),{callbackFetchData:e}},options:{type:"append",expandSize:15}}).mount()}],[[4,1,2]]]);
//# sourceMappingURL=main.3673273f.chunk.js.map